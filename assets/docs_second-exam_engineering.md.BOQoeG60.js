import{_ as i,c as a,a2 as n,o as t}from"./chunks/framework.YPpNXepj.js";const g=JSON.parse('{"title":"å‰ç«¯å·¥ç¨‹åŒ–","description":"","frontmatter":{},"headers":[],"relativePath":"docs/second-exam/engineering.md","filePath":"docs/second-exam/engineering.md"}'),l={name:"docs/second-exam/engineering.md"};function p(h,s,k,e,d,r){return t(),a("div",null,s[0]||(s[0]=[n(`<h1 id="å‰ç«¯å·¥ç¨‹åŒ–" tabindex="-1">å‰ç«¯å·¥ç¨‹åŒ– <a class="header-anchor" href="#å‰ç«¯å·¥ç¨‹åŒ–" aria-label="Permalink to &quot;å‰ç«¯å·¥ç¨‹åŒ–&quot;">â€‹</a></h1><p>å‰ç«¯å·¥ç¨‹åŒ–é€šè¿‡è‡ªåŠ¨åŒ–å·¥å…·å’Œæ ‡å‡†åŒ–æµç¨‹ï¼Œæå‡å¼€å‘æ•ˆç‡ã€ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§ã€‚å…¶æ ¸å¿ƒç›®æ ‡æ˜¯ä¼˜åŒ–å¼€å‘ã€æ„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²æµç¨‹ï¼Œå‡å°‘äººå·¥å¹²é¢„å’Œé‡å¤åŠ³åŠ¨ï¼Œä¾¿äºé¡¹ç›®æ‰©å±•å’Œå›¢é˜Ÿåä½œã€‚å¸¸è§çš„å·¥å…·ï¼Œå¦‚Viteå’ŒWebpackï¼Œæä¾›é«˜æ•ˆçš„æ„å»ºå’Œæ‰“åŒ…èƒ½åŠ›ï¼Œæ˜¾è‘—æå‡å¼€å‘æ•ˆç‡å¹¶ä¸°å¯Œå‰ç«¯ç”Ÿæ€ã€‚è¿™äº›å·¥å…·çš„å¹¿æ³›åº”ç”¨ä½¿å‰ç«¯å¼€å‘æ›´åŠ é«˜æ•ˆï¼Œä¸”æˆä¸ºè¿‘å¹´æ¥é¢è¯•ä¸­çš„çƒ­é—¨è¯é¢˜ã€‚</p><h2 id="viteä¸ºä»€ä¹ˆæ›´å¿«" tabindex="-1">Viteä¸ºä»€ä¹ˆæ›´å¿«ï¼Ÿ <a class="header-anchor" href="#viteä¸ºä»€ä¹ˆæ›´å¿«" aria-label="Permalink to &quot;Viteä¸ºä»€ä¹ˆæ›´å¿«ï¼Ÿ&quot;">â€‹</a></h2><h2 id="viteä¸­å¦‚ä½•ä½¿ç”¨ç¯å¢ƒå˜é‡" tabindex="-1">viteä¸­å¦‚ä½•ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼Ÿ <a class="header-anchor" href="#viteä¸­å¦‚ä½•ä½¿ç”¨ç¯å¢ƒå˜é‡" aria-label="Permalink to &quot;viteä¸­å¦‚ä½•ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼Ÿ&quot;">â€‹</a></h2><details class="details custom-block"><summary>å‚è€ƒç­”æ¡ˆ</summary><p>æ ¹æ®å½“å‰çš„ä»£ç ç¯å¢ƒå˜åŒ–çš„å˜é‡å°±å«åš<strong>ç¯å¢ƒå˜é‡</strong>ã€‚æ¯”å¦‚ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒå’Œå¼€å‘ç¯å¢ƒå°†BASE_URLè®¾ç½®æˆä¸åŒçš„å€¼ï¼Œç”¨æ¥è¯·æ±‚ä¸åŒçš„ç¯å¢ƒçš„æ¥å£ã€‚</p><p>Viteå†…ç½®äº† <code>dotenv</code> è¿™ä¸ªç¬¬ä¸‰æ–¹åº“ï¼Œ dotenvä¼šè‡ªåŠ¨è¯»å– <code>.env</code> æ–‡ä»¶ï¼Œ dotenv ä»ä½ çš„ <code>ç¯å¢ƒç›®å½•</code> ä¸­çš„ä¸‹åˆ—æ–‡ä»¶åŠ è½½é¢å¤–çš„ç¯å¢ƒå˜é‡ï¼š</p><blockquote><p>.env # æ‰€æœ‰æƒ…å†µä¸‹éƒ½ä¼šåŠ è½½ .env.[mode] # åªåœ¨æŒ‡å®šæ¨¡å¼ä¸‹åŠ è½½</p></blockquote><p>é»˜è®¤æƒ…å†µä¸‹</p><ul><li><code>npm run dev</code> ä¼šåŠ è½½ <code>.env</code> å’Œ <code>.env.development</code> å†…çš„é…ç½®</li><li><code>npm run build</code> ä¼šåŠ è½½ <code>.env</code> å’Œ <code>.env.production</code> å†…çš„é…ç½®</li><li><code>mode</code> å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œ <code>--mode</code> é€‰é¡¹æ¥é‡å†™ã€‚ ç¯å¢ƒå˜é‡éœ€ä»¥ VITE_ å‰ç¼€å®šä¹‰ï¼Œä¸”é€šè¿‡ <code>import.meta.env</code> è®¿é—®ã€‚</li></ul><p>ç¤ºä¾‹ï¼š .env.developmentï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">VITE_API_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;http://localhost:3000&#39;</span></span></code></pre></div><p>åœ¨ä»£ç ä¸­ä½¿ç”¨ï¼š</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">VITE_API_URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// http://localhost:3000</span></span></code></pre></div><blockquote><p>å‚è€ƒåšæ–‡ï¼š<a href="https://juejin.cn/post/7172012247852515335" target="_blank" rel="noreferrer">viteä¸­ç¯å¢ƒå˜é‡çš„ä½¿ç”¨ä¸é…ç½®</a></p></blockquote></details><h2 id="viteå¦‚ä½•å®ç°æ ¹æ®ä¸åŒç¯å¢ƒ-qaã€devã€prod-åŠ è½½ä¸åŒçš„é…ç½®æ–‡ä»¶" tabindex="-1">viteå¦‚ä½•å®ç°æ ¹æ®ä¸åŒç¯å¢ƒ(qaã€devã€prod)åŠ è½½ä¸åŒçš„é…ç½®æ–‡ä»¶ï¼Ÿ <a class="header-anchor" href="#viteå¦‚ä½•å®ç°æ ¹æ®ä¸åŒç¯å¢ƒ-qaã€devã€prod-åŠ è½½ä¸åŒçš„é…ç½®æ–‡ä»¶" aria-label="Permalink to &quot;viteå¦‚ä½•å®ç°æ ¹æ®ä¸åŒç¯å¢ƒ(qaã€devã€prod)åŠ è½½ä¸åŒçš„é…ç½®æ–‡ä»¶ï¼Ÿ&quot;">â€‹</a></h2><details class="details custom-block"><summary>å‚è€ƒç­”æ¡ˆ</summary><p>åœ¨ Vite ä¸­ï¼Œæ ¹æ®ä¸åŒç¯å¢ƒè®¾ç½®ä¸åŒé…ç½®çš„æ–¹å¼ï¼Œç±»ä¼¼äº Webpack æ—¶ä»£çš„é…ç½®æ–¹æ³•ï¼Œä½†æ›´åŠ ç®€åŒ–ã€‚Vite ä½¿ç”¨ <code>defineConfig</code> å‡½æ•°ï¼Œé€šè¿‡åˆ¤æ–­ <code>command</code> å’Œ <code>mode</code> æ¥åŠ è½½ä¸åŒçš„é…ç½®ã€‚</p><ul><li><strong>é€šè¿‡ <code>defineConfig</code> åŠ¨æ€é…ç½®ï¼š</strong></li></ul><p>Vite æä¾›çš„ <code>defineConfig</code> å‡½æ•°å¯ä»¥æ ¹æ® <code>command</code> æ¥åŒºåˆ†å¼€å‘ç¯å¢ƒï¼ˆ <code>serve</code> ï¼‰å’Œç”Ÿäº§ç¯å¢ƒï¼ˆ <code>build</code> ï¼‰ï¼Œå¹¶è¿”å›ä¸åŒçš„é…ç½®ã€‚</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineConfig } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vite&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> viteBaseConfig </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./vite.base.config&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> viteDevConfig </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./vite.dev.config&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> viteProdConfig </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./vite.prod.config&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(({ </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">command</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">ssrBuild</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (command </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;serve&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å¼€å‘ç¯å¢ƒç‹¬æœ‰é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">viteBaseConfig,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">viteDevConfig,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ç”Ÿäº§ç¯å¢ƒç‹¬æœ‰é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">viteBaseConfig,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">viteProdConfig,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><ul><li><strong>åˆ›å»ºä¸åŒçš„é…ç½®æ–‡ä»¶</strong></li></ul><p><code>vite.base.config.ts</code> ï¼šåŸºç¡€é…ç½®ï¼Œé€‚ç”¨äºæ‰€æœ‰ç¯å¢ƒã€‚</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    defineConfig</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vite&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // åŸºç¡€é…ç½®-&gt;ä½¿ç”¨æ‰€æœ‰åœºæ™¯</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    return {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        plugins</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            vue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p><code>vite.dev.config.ts</code> ï¼šå¼€å‘ç¯å¢ƒé…ç½®ã€‚</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineConfig } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vite&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¼€å‘ç¯å¢ƒä¸“æœ‰é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p><code>vite.prod.config.ts</code> ï¼šç”Ÿäº§ç¯å¢ƒé…ç½®ã€‚</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineConfig } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vite&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ç”Ÿäº§ç¯å¢ƒä¸“æœ‰é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><blockquote><p>å‚è€ƒåšæ–‡ï¼š<a href="https://juejin.cn/post/7172009616967942175" target="_blank" rel="noreferrer">viteæŒ‡å®šé…ç½®æ–‡ä»¶åŠå…¶åœ¨å¤šç¯å¢ƒä¸‹çš„é…ç½®é›†æˆæ–¹æ¡ˆ</a></p></blockquote></details><h2 id="ç®€è¿°viteçš„ä¾èµ–é¢„åŠ è½½æœºåˆ¶ã€‚" tabindex="-1">ç®€è¿°Viteçš„ä¾èµ–é¢„åŠ è½½æœºåˆ¶ã€‚ <a class="header-anchor" href="#ç®€è¿°viteçš„ä¾èµ–é¢„åŠ è½½æœºåˆ¶ã€‚" aria-label="Permalink to &quot;ç®€è¿°Viteçš„ä¾èµ–é¢„åŠ è½½æœºåˆ¶ã€‚&quot;">â€‹</a></h2><h2 id="viteä¸­å¦‚ä½•åŠ è½½ã€å¤„ç†é™æ€èµ„æº" tabindex="-1">viteä¸­å¦‚ä½•åŠ è½½ã€å¤„ç†é™æ€èµ„æºï¼Ÿ <a class="header-anchor" href="#viteä¸­å¦‚ä½•åŠ è½½ã€å¤„ç†é™æ€èµ„æº" aria-label="Permalink to &quot;viteä¸­å¦‚ä½•åŠ è½½ã€å¤„ç†é™æ€èµ„æºï¼Ÿ&quot;">â€‹</a></h2><details class="details custom-block"><summary>å‚è€ƒç­”æ¡ˆ</summary><p>ğŸ¯ <strong>é™æ€èµ„æºç›®å½•ï¼ˆpublic ç›®å½•ï¼‰</strong>ï¼š</p><ul><li>é™æ€èµ„æºå¯ä»¥æ”¾åœ¨ <code>public</code> ç›®å½•ä¸‹ï¼Œè¿™äº›æ–‡ä»¶ä¸ä¼šç»è¿‡æ„å»ºå¤„ç†ï¼Œç›´æ¥æŒ‰åŸæ ·å¤åˆ¶åˆ°è¾“å‡ºç›®å½•ã€‚åœ¨å¼€å‘æ—¶å¯ä»¥é€šè¿‡ <code>/</code> è·¯å¾„ç›´æ¥è®¿é—®ï¼Œå¦‚ <code>/icon.png</code>ã€‚</li><li><code>public</code> ç›®å½•å¯é€šè¿‡ <code>vite.config.js</code> ä¸­çš„ <code>publicDir</code> é…ç½®é¡¹ä¿®æ”¹ã€‚</li></ul><p>ğŸ¯ <strong>èµ„æºå¼•å…¥</strong>ï¼š</p><ul><li><strong>å›¾ç‰‡ã€å­—ä½“ã€è§†é¢‘</strong>ï¼šé€šè¿‡ <code>import</code> å¼•å…¥ï¼ŒVite ä¼šè‡ªåŠ¨å°†å…¶å¤„ç†ä¸º URL å¹¶ç”Ÿæˆå¸¦å“ˆå¸Œå€¼çš„æ–‡ä»¶åã€‚åœ¨å¼€å‘æ—¶ï¼Œå¼•ç”¨ä¼šæ˜¯æ ¹è·¯å¾„ï¼ˆå¦‚ <code>/img.png</code>ï¼‰ï¼Œåœ¨ç”Ÿäº§æ„å»ºåä¼šæ˜¯å¦‚ <code>/assets/img.2d8efhg.png</code> çš„è·¯å¾„ã€‚</li><li><strong>CSSã€JS</strong>ï¼šCSS ä¼šè¢«è‡ªåŠ¨æ³¨å…¥åˆ°é¡µé¢ä¸­ï¼ŒJS æŒ‰æ¨¡å—å¤„ç†ã€‚</li></ul><p>ğŸ¯ <strong>å¼ºåˆ¶ä½œä¸º URL å¼•å…¥</strong>ï¼šé€šè¿‡ <code>?url</code> åç¼€å¯ä»¥æ˜¾å¼å¼ºåˆ¶å°†æŸäº›èµ„æºä½œä¸º URL å¼•å…¥ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> imgUrl </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./img.png?url&#39;</span></span></code></pre></div><p>ğŸ¯ <strong>å¼ºåˆ¶ä½œä¸ºåŸå§‹å†…å®¹å¼•å…¥</strong>ï¼šé€šè¿‡ <code>?raw</code> åç¼€å°†æ–‡ä»¶å†…å®¹ä½œä¸ºå­—ç¬¦ä¸²å¼•å…¥ã€‚</p><p>ğŸ¯ <code>new URL()</code> ï¼šé€šè¿‡ <code>import.meta.url</code> å¯ä»¥åŠ¨æ€æ„å»ºèµ„æºçš„ URLï¼Œè¿™å¯¹äºä¸€äº›åŠ¨æ€è·¯å¾„å¾ˆæœ‰ç”¨ã€‚</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> imgUrl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> URL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./img.png&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">meta</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.url).href</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;hero-img&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).src </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> imgUrl</span></span></code></pre></div><blockquote><p>å‚è€ƒåšæ–‡ï¼š<a href="https://juejin.cn/post/7173467405522305055" target="_blank" rel="noreferrer">viteä¸­é™æ€èµ„æºï¼ˆcssã€imgã€svgç­‰ï¼‰çš„åŠ è½½æœºåˆ¶åŠå…¶ç›¸å…³é…</a></p></blockquote></details><h2 id="å¦‚ä½•åœ¨viteé¡¹ç›®ä¸­å¼•å…¥cssé¢„å¤„ç†å™¨" tabindex="-1">å¦‚ä½•åœ¨Viteé¡¹ç›®ä¸­å¼•å…¥CSSé¢„å¤„ç†å™¨? <a class="header-anchor" href="#å¦‚ä½•åœ¨viteé¡¹ç›®ä¸­å¼•å…¥cssé¢„å¤„ç†å™¨" aria-label="Permalink to &quot;å¦‚ä½•åœ¨Viteé¡¹ç›®ä¸­å¼•å…¥CSSé¢„å¤„ç†å™¨?&quot;">â€‹</a></h2><h2 id="viteä¸­å¯åšçš„é¡¹ç›®ä¼˜åŒ–æœ‰å“ªäº›" tabindex="-1">viteä¸­å¯åšçš„é¡¹ç›®ä¼˜åŒ–æœ‰å“ªäº›ï¼Ÿ <a class="header-anchor" href="#viteä¸­å¯åšçš„é¡¹ç›®ä¼˜åŒ–æœ‰å“ªäº›" aria-label="Permalink to &quot;viteä¸­å¯åšçš„é¡¹ç›®ä¼˜åŒ–æœ‰å“ªäº›ï¼Ÿ&quot;">â€‹</a></h2><h2 id="ç®€è¿°viteæ’ä»¶å¼€å‘æµç¨‹" tabindex="-1">ç®€è¿°viteæ’ä»¶å¼€å‘æµç¨‹ï¼Ÿ <a class="header-anchor" href="#ç®€è¿°viteæ’ä»¶å¼€å‘æµç¨‹" aria-label="Permalink to &quot;ç®€è¿°viteæ’ä»¶å¼€å‘æµç¨‹ï¼Ÿ&quot;">â€‹</a></h2><h2 id="å¦‚ä½•åœ¨viteä¸­é…ç½®ä»£ç†" tabindex="-1">å¦‚ä½•åœ¨Viteä¸­é…ç½®ä»£ç†ï¼Ÿ <a class="header-anchor" href="#å¦‚ä½•åœ¨viteä¸­é…ç½®ä»£ç†" aria-label="Permalink to &quot;å¦‚ä½•åœ¨Viteä¸­é…ç½®ä»£ç†ï¼Ÿ&quot;">â€‹</a></h2><h2 id="viteå¦‚ä½•é›†æˆtypescript-å¦‚ä½•é…ç½®" tabindex="-1">Viteå¦‚ä½•é›†æˆTypeScriptï¼Ÿå¦‚ä½•é…ç½®ï¼Ÿ <a class="header-anchor" href="#viteå¦‚ä½•é›†æˆtypescript-å¦‚ä½•é…ç½®" aria-label="Permalink to &quot;Viteå¦‚ä½•é›†æˆTypeScriptï¼Ÿå¦‚ä½•é…ç½®ï¼Ÿ&quot;">â€‹</a></h2><h2 id="ä»€ä¹ˆæ˜¯-webpack-å®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆ" tabindex="-1">ä»€ä¹ˆæ˜¯ Webpackï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#ä»€ä¹ˆæ˜¯-webpack-å®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;ä»€ä¹ˆæ˜¯ Webpackï¼Ÿå®ƒçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h2><h2 id="å¦‚ä½•ä½¿ç”¨-webpack-é…ç½®å¤šç¯å¢ƒçš„ä¸åŒæ„å»ºé…ç½®" tabindex="-1">å¦‚ä½•ä½¿ç”¨ Webpack é…ç½®å¤šç¯å¢ƒçš„ä¸åŒæ„å»ºé…ç½®ï¼Ÿ <a class="header-anchor" href="#å¦‚ä½•ä½¿ç”¨-webpack-é…ç½®å¤šç¯å¢ƒçš„ä¸åŒæ„å»ºé…ç½®" aria-label="Permalink to &quot;å¦‚ä½•ä½¿ç”¨ Webpack é…ç½®å¤šç¯å¢ƒçš„ä¸åŒæ„å»ºé…ç½®ï¼Ÿ&quot;">â€‹</a></h2><h2 id="webpack-çš„æ ¸å¿ƒæ¦‚å¿µæœ‰å“ªäº›-è¯·ç®€å•è§£é‡Šã€‚" tabindex="-1">Webpack çš„æ ¸å¿ƒæ¦‚å¿µæœ‰å“ªäº›ï¼Ÿè¯·ç®€å•è§£é‡Šã€‚ <a class="header-anchor" href="#webpack-çš„æ ¸å¿ƒæ¦‚å¿µæœ‰å“ªäº›-è¯·ç®€å•è§£é‡Šã€‚" aria-label="Permalink to &quot;Webpack çš„æ ¸å¿ƒæ¦‚å¿µæœ‰å“ªäº›ï¼Ÿè¯·ç®€å•è§£é‡Šã€‚&quot;">â€‹</a></h2><h2 id="å¦‚ä½•åœ¨-webpack-ä¸­å®ç°-css-å’Œ-sass-çš„å¤„ç†" tabindex="-1">å¦‚ä½•åœ¨ Webpack ä¸­å®ç° CSS å’Œ Sass çš„å¤„ç†ï¼Ÿ <a class="header-anchor" href="#å¦‚ä½•åœ¨-webpack-ä¸­å®ç°-css-å’Œ-sass-çš„å¤„ç†" aria-label="Permalink to &quot;å¦‚ä½•åœ¨ Webpack ä¸­å®ç° CSS å’Œ Sass çš„å¤„ç†ï¼Ÿ&quot;">â€‹</a></h2><p>å‚è€ƒç­”æ¡ˆ</p><details class="details custom-block"><summary>Details</summary><p>åœ¨ Webpack ä¸­å¤„ç† CSS å’Œ Sassï¼ˆSCSSï¼‰éœ€è¦é…ç½®ç›¸åº”çš„åŠ è½½å™¨ï¼ˆloadersï¼‰å’Œæ’ä»¶ï¼ˆpluginsï¼‰ã€‚</p><p><strong>1. å®‰è£…æ‰€éœ€ä¾èµ–</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save-dev</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  style-loader</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  css-loader</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  sass-loader</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  sass</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  postcss-loader</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  autoprefixer</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  mini-css-extract-plugin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  css-minimizer-webpack-plugin</span></span></code></pre></div><ul><li><strong>æ ¸å¿ƒä¾èµ–</strong>ï¼š <ul><li><code>style-loader</code>ï¼šå°† CSS æ³¨å…¥ DOMã€‚</li><li><code>css-loader</code>ï¼šè§£æ CSS æ–‡ä»¶ä¸­çš„ <code>@import</code> å’Œ <code>url()</code>ã€‚</li><li><code>sass-loader</code>ï¼šå°† Sass/SCSS ç¼–è¯‘ä¸º CSSã€‚</li><li><code>sass</code>ï¼šSass ç¼–è¯‘å™¨ï¼ˆDart Sass å®ç°ï¼‰ã€‚</li></ul></li><li><strong>å¯é€‰å·¥å…·</strong>ï¼š <ul><li><code>postcss-loader</code> å’Œ <code>autoprefixer</code>ï¼šè‡ªåŠ¨æ·»åŠ æµè§ˆå™¨å‰ç¼€ã€‚</li><li><code>mini-css-extract-plugin</code>ï¼šæå– CSS ä¸ºç‹¬ç«‹æ–‡ä»¶ï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰ã€‚</li><li><code>css-minimizer-webpack-plugin</code>ï¼šå‹ç¼© CSSï¼ˆç”Ÿäº§ç¯å¢ƒæ¨èï¼‰ã€‚</li></ul></li></ul><p><strong>2. åŸºç¡€ Webpack é…ç½®</strong> åœ¨ <code>webpack.config.js</code> ä¸­æ·»åŠ ä»¥ä¸‹è§„åˆ™å’Œæ’ä»¶ï¼š</p><p><strong>é…ç½® CSS å’Œ SCSS å¤„ç†</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> MiniCssExtractPlugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mini-css-extract-plugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> CssMinimizerPlugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;css-minimizer-webpack-plugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  module: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    rules: [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // å¤„ç† CSS æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        test:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">css</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        use: [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          // å¼€å‘ç¯å¢ƒç”¨ style-loaderï¼Œç”Ÿäº§ç¯å¢ƒç”¨ MiniCssExtractPlugin.loader</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;production&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MiniCssExtractPlugin.loader </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;style-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          &#39;css-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          &#39;postcss-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯é€‰ï¼šæ·»åŠ æµè§ˆå™¨å‰ç¼€</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // å¤„ç† SCSS/Sass æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        test:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">(scss</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">sass)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        use: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          process.env.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NODE_ENV</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;production&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> MiniCssExtractPlugin.loader </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;style-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          &#39;css-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          &#39;postcss-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯é€‰ï¼šæ·»åŠ æµè§ˆå™¨å‰ç¼€</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          &#39;sass-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æå– CSS ä¸ºç‹¬ç«‹æ–‡ä»¶ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MiniCssExtractPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      filename: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;[name].[contenthash].css&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  optimization: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    minimizer: [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // å‹ç¼© CSSï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> CssMinimizerPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>3. é…ç½® PostCSSï¼ˆå¯é€‰ï¼‰</strong> åˆ›å»º <code>postcss.config.js</code> æ–‡ä»¶ä»¥å¯ç”¨ <code>autoprefixer</code>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;autoprefixer&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)({</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // æŒ‡å®šæµè§ˆå™¨å…¼å®¹èŒƒå›´</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      overrideBrowserslist: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;last 2 versions&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&gt;1%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;not dead&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>é€šè¿‡é…ç½® <code>css-loader</code>ã€<code>sass-loader</code> å’Œ <code>MiniCssExtractPlugin</code>ï¼ŒWebpack å¯ä»¥é«˜æ•ˆå¤„ç† CSS å’Œ Sassã€‚å…³é”®ç‚¹åŒ…æ‹¬ï¼š</p><ol><li>åŠ è½½å™¨é¡ºåºï¼šä»å³åˆ°å·¦ï¼ˆå¦‚ <code>[sass-loader, css-loader, style-loader]</code>ï¼‰ã€‚</li><li>ç”Ÿäº§ç¯å¢ƒæå– CSSï¼šä½¿ç”¨ <code>MiniCssExtractPlugin</code>ã€‚</li><li>æµè§ˆå™¨å…¼å®¹æ€§ï¼šé€šè¿‡ <code>postcss-loader</code> å’Œ <code>autoprefixer</code> è‡ªåŠ¨å¤„ç†ã€‚</li></ol></details><h2 id="webpack-ä¸­çš„å…¥å£å’Œå‡ºå£æ˜¯ä»€ä¹ˆ" tabindex="-1">Webpack ä¸­çš„å…¥å£å’Œå‡ºå£æ˜¯ä»€ä¹ˆï¼Ÿ <a class="header-anchor" href="#webpack-ä¸­çš„å…¥å£å’Œå‡ºå£æ˜¯ä»€ä¹ˆ" aria-label="Permalink to &quot;Webpack ä¸­çš„å…¥å£å’Œå‡ºå£æ˜¯ä»€ä¹ˆï¼Ÿ&quot;">â€‹</a></h2><p>å‚è€ƒç­”æ¡ˆ</p><details class="details custom-block"><summary>Details</summary><p>åœ¨ Webpack ä¸­ï¼Œ<strong>å…¥å£ï¼ˆEntryï¼‰</strong> å’Œ <strong>å‡ºå£ï¼ˆOutputï¼‰</strong> æ˜¯é…ç½®æ–‡ä»¶ä¸­çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå†³å®šäº†æ‰“åŒ…çš„èµ·ç‚¹å’Œç»ˆç‚¹ã€‚å®ƒä»¬å…±åŒå®šä¹‰äº† Webpack å¦‚ä½•å¤„ç†ä»£ç ä»¥åŠæœ€ç»ˆç”Ÿæˆçš„èµ„æºã€‚</p><ol><li><strong>å…¥å£ï¼ˆEntryï¼‰</strong> å…¥å£æ˜¯ Webpack æ„å»ºä¾èµ–å›¾çš„èµ·ç‚¹ï¼Œå®ƒå‘Šè¯‰ Webpackï¼š<strong>â€œä»å“ªä¸ªæ–‡ä»¶å¼€å§‹åˆ†æä»£ç çš„ä¾èµ–å…³ç³»ï¼Ÿâ€</strong></li></ol><p><strong>ä½œç”¨</strong></p><ul><li>æŒ‡å®šåº”ç”¨ç¨‹åºçš„èµ·å§‹æ–‡ä»¶ã€‚</li><li>æ ¹æ®å…¥å£æ–‡ä»¶é€’å½’æ„å»ºä¾èµ–å…³ç³»æ ‘ã€‚</li><li>æ”¯æŒå•å…¥å£ï¼ˆå•é¡µé¢åº”ç”¨ï¼‰æˆ–å¤šå…¥å£ï¼ˆå¤šé¡µé¢åº”ç”¨ï¼‰ã€‚</li></ul><p><strong>é…ç½®æ–¹å¼</strong> åœ¨ <code>webpack.config.js</code> ä¸­é€šè¿‡ <code>entry</code> å±æ€§é…ç½®ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  entry: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./src/index.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å•å…¥å£ï¼ˆé»˜è®¤é…ç½®ï¼‰</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¤šå…¥å£ï¼ˆå¤šé¡µé¢åº”ç”¨ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  entry: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    home: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./src/home.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    about: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./src/about.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>é»˜è®¤è¡Œä¸º</strong></p><ul><li>å¦‚æœæœªæ‰‹åŠ¨é…ç½® <code>entry</code>ï¼ŒWebpack é»˜è®¤ä½¿ç”¨ <code>./src/index.js</code> ä½œä¸ºå…¥å£ã€‚</li></ul><ol start="2"><li><strong>å‡ºå£ï¼ˆOutputï¼‰</strong> å‡ºå£æ˜¯ Webpack æ‰“åŒ…åçš„èµ„æºè¾“å‡ºä½ç½®ï¼Œå®ƒå‘Šè¯‰ Webpackï¼š<strong>â€œæ‰“åŒ…åçš„æ–‡ä»¶æ”¾åœ¨å“ªé‡Œï¼Ÿå¦‚ä½•å‘½åï¼Ÿâ€</strong></li></ol><p><strong>ä½œç”¨</strong></p><ul><li>å®šä¹‰æ‰“åŒ…æ–‡ä»¶çš„è¾“å‡ºç›®å½•å’Œå‘½åè§„åˆ™ã€‚</li><li>å¤„ç†é™æ€èµ„æºçš„è·¯å¾„ï¼ˆå¦‚ CSSã€å›¾ç‰‡ç­‰ï¼‰ã€‚</li></ul><p><strong>é…ç½®æ–¹å¼</strong> åœ¨ <code>webpack.config.js</code> ä¸­é€šè¿‡ <code>output</code> å±æ€§é…ç½®ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  output: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dist&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">), </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¾“å‡ºç›®å½•ï¼ˆå¿…é¡»ä¸ºç»å¯¹è·¯å¾„ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    filename: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bundle.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å•å…¥å£è¾“å‡ºæ–‡ä»¶å</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // å¤šå…¥å£æ—¶ï¼Œä½¿ç”¨å ä½ç¬¦ç¡®ä¿å”¯ä¸€æ€§</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    filename: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;[name].[contenthash].js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    clean: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è‡ªåŠ¨æ¸…ç†æ—§æ–‡ä»¶ï¼ˆWebpack 5+ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>å¸¸ç”¨å ä½ç¬¦</strong></p><table tabindex="0"><thead><tr><th>å ä½ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><code>[name]</code></td><td>å…¥å£åç§°ï¼ˆå¦‚å¤šå…¥å£çš„ <code>home</code>ï¼‰</td></tr><tr><td><code>[hash]</code></td><td>æ ¹æ®æ„å»ºç”Ÿæˆçš„å”¯ä¸€å“ˆå¸Œå€¼</td></tr><tr><td><code>[contenthash]</code></td><td>æ ¹æ®æ–‡ä»¶å†…å®¹ç”Ÿæˆçš„å“ˆå¸Œå€¼</td></tr><tr><td><code>[chunkhash]</code></td><td>æ ¹æ®ä»£ç å—ç”Ÿæˆçš„å“ˆå¸Œå€¼</td></tr></tbody></table></details><h2 id="webpack-ä¸­çš„-loaders-å’Œ-plugins-æœ‰ä»€ä¹ˆåŒºåˆ«" tabindex="-1">Webpack ä¸­çš„ Loaders å’Œ Plugins æœ‰ä»€ä¹ˆåŒºåˆ« <a class="header-anchor" href="#webpack-ä¸­çš„-loaders-å’Œ-plugins-æœ‰ä»€ä¹ˆåŒºåˆ«" aria-label="Permalink to &quot;Webpack ä¸­çš„ Loaders å’Œ Plugins æœ‰ä»€ä¹ˆåŒºåˆ«&quot;">â€‹</a></h2><p>å‚è€ƒç­”æ¡ˆ</p><details class="details custom-block"><summary>Details</summary><p>åœ¨ Webpack ä¸­ï¼Œ<strong>Loadersï¼ˆåŠ è½½å™¨ï¼‰</strong> å’Œ <strong>Pluginsï¼ˆæ’ä»¶ï¼‰</strong> æ˜¯æ„å»ºæµç¨‹ä¸­çš„ä¸¤å¤§æ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒä»¬çš„ä½œç”¨å’ŒèŒè´£æœ‰æ˜æ˜¾åŒºåˆ«ã€‚</p><p><strong>1. æ ¸å¿ƒåŒºåˆ«æ€»ç»“</strong></p><table tabindex="0"><thead><tr><th><strong>ç‰¹æ€§</strong></th><th><strong>Loaders</strong></th><th><strong>Plugins</strong></th></tr></thead><tbody><tr><td><strong>ä¸»è¦ä½œç”¨</strong></td><td><strong>è½¬æ¢æ–‡ä»¶å†…å®¹</strong>ï¼ˆå¦‚è½¬è¯‘ã€é¢„å¤„ç†ï¼‰</td><td><strong>æ‰©å±•æ„å»ºæµç¨‹</strong>ï¼ˆä¼˜åŒ–ã€èµ„æºç®¡ç†ã€æ³¨å…¥ç¯å¢ƒå˜é‡ç­‰ï¼‰</td></tr><tr><td><strong>æ‰§è¡Œæ—¶æœº</strong></td><td>åœ¨æ¨¡å—åŠ è½½æ—¶ï¼ˆæ–‡ä»¶è½¬æ¢ä¸ºæ¨¡å—æ—¶ï¼‰</td><td>åœ¨æ•´ä¸ªæ„å»ºç”Ÿå‘½å‘¨æœŸï¼ˆä»åˆå§‹åŒ–åˆ°è¾“å‡ºï¼‰çš„å„ä¸ªé˜¶æ®µ</td></tr><tr><td><strong>é…ç½®æ–¹å¼</strong></td><td>é€šè¿‡ <code>module.rules</code> æ•°ç»„é…ç½®</td><td>é€šè¿‡ <code>plugins</code> æ•°ç»„é…ç½®ï¼ˆéœ€è¦ <code>new</code> å®ä¾‹åŒ–ï¼‰</td></tr><tr><td><strong>å…¸å‹åœºæ™¯</strong></td><td>å¤„ç† JS/CSS/å›¾ç‰‡ç­‰æ–‡ä»¶è½¬è¯‘</td><td>ç”Ÿæˆ HTMLã€å‹ç¼©ä»£ç ã€æå– CSS ç­‰å…¨å±€æ“ä½œ</td></tr><tr><td><strong>ä¾èµ–å…³ç³»</strong></td><td>é’ˆå¯¹ç‰¹å®šæ–‡ä»¶ç±»å‹ï¼ˆå¦‚ <code>.scss</code>ï¼‰</td><td>ä¸ä¾èµ–æ–‡ä»¶ç±»å‹ï¼Œå¯å¹²é¢„æ•´ä¸ªæ„å»ºæµç¨‹</td></tr></tbody></table><p><strong>2. Loaders çš„ä½œç”¨ä¸ä½¿ç”¨</strong><strong>æ ¸å¿ƒåŠŸèƒ½</strong></p><ul><li>å°†é JavaScript æ–‡ä»¶ï¼ˆå¦‚ CSSã€å›¾ç‰‡ã€å­—ä½“ç­‰ï¼‰<strong>è½¬æ¢ä¸º Webpack èƒ½å¤„ç†çš„æ¨¡å—</strong>ã€‚</li><li>å¯¹ä»£ç è¿›è¡Œé¢„å¤„ç†ï¼ˆå¦‚ Babel è½¬è¯‘ã€Sass ç¼–è¯‘ï¼‰ã€‚</li></ul><p><strong>é…ç½®ç¤ºä¾‹</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// webpack.config.js</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  module: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    rules: [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // å¤„ç† CSS æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        test:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">css</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        use: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;style-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;css-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // å¤„ç† TypeScript æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        test:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">tsx</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        use: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ts-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // å¤„ç†å›¾ç‰‡æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        test:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">(png</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">jpg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">gif)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;asset/resource&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Webpack 5 å†…ç½®æ–¹å¼ï¼ˆæ›¿ä»£ file-loaderï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>å¸¸è§ Loaders</strong></p><ul><li><code>babel-loader</code>: å°† ES6+ ä»£ç è½¬è¯‘ä¸º ES5ã€‚</li><li><code>css-loader</code>: è§£æ CSS ä¸­çš„ <code>@import</code> å’Œ <code>url()</code>ã€‚</li><li><code>sass-loader</code>: å°† Sass/SCSS ç¼–è¯‘ä¸º CSSã€‚</li><li><code>file-loader</code>: å¤„ç†æ–‡ä»¶ï¼ˆå¦‚å›¾ç‰‡ï¼‰çš„å¯¼å…¥è·¯å¾„ã€‚</li></ul><p><strong>3. Plugins çš„ä½œç”¨ä¸ä½¿ç”¨</strong><strong>æ ¸å¿ƒåŠŸèƒ½</strong></p><ul><li>æ‰©å±• Webpack çš„èƒ½åŠ›ï¼Œå¹²é¢„æ„å»ºæµç¨‹çš„<strong>ä»»æ„é˜¶æ®µ</strong>ã€‚</li><li>æ‰§è¡Œæ›´å¤æ‚çš„ä»»åŠ¡ï¼Œå¦‚ä»£ç å‹ç¼©ã€èµ„æºä¼˜åŒ–ã€ç¯å¢ƒå˜é‡æ³¨å…¥ç­‰ã€‚</li></ul><p><strong>é…ç½®ç¤ºä¾‹</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// webpack.config.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> HtmlWebpackPlugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;html-webpack-plugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> MiniCssExtractPlugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mini-css-extract-plugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // è‡ªåŠ¨ç”Ÿæˆ HTML æ–‡ä»¶ï¼Œå¹¶æ³¨å…¥æ‰“åŒ…åçš„èµ„æº</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HtmlWebpackPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      template: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./src/index.html&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // æå– CSS ä¸ºç‹¬ç«‹æ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MiniCssExtractPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      filename: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;[name].[contenthash].css&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>å¸¸è§ Plugins</strong></p><ul><li><code>HtmlWebpackPlugin</code>: ç”Ÿæˆ HTML æ–‡ä»¶å¹¶è‡ªåŠ¨å¼•å…¥æ‰“åŒ…åçš„èµ„æºã€‚</li><li><code>MiniCssExtractPlugin</code>: å°† CSS æå–ä¸ºç‹¬ç«‹æ–‡ä»¶ï¼ˆæ›¿ä»£ <code>style-loader</code>ï¼‰ã€‚</li><li><code>CleanWebpackPlugin</code>: æ¸…ç†æ„å»ºç›®å½•ï¼ˆWebpack 5 ä¸­å¯ç”¨ <code>output.clean: true</code> æ›¿ä»£ï¼‰ã€‚</li><li><code>DefinePlugin</code>: æ³¨å…¥å…¨å±€å¸¸é‡ï¼ˆå¦‚ <code>process.env.NODE_ENV</code>ï¼‰ã€‚</li></ul><p><strong>4. æ‰§è¡Œæµç¨‹å¯¹æ¯”</strong><strong>Loaders çš„æ‰§è¡Œæµç¨‹</strong></p><div class="language-plaintext vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>æ–‡ä»¶èµ„æº (å¦‚ .scss) â†’ åŒ¹é… Loader è§„åˆ™ â†’ æŒ‰é¡ºåºåº”ç”¨ Loaders â†’ è½¬æ¢ä¸º JS æ¨¡å—</span></span></code></pre></div><ul><li><strong>é¡ºåºå…³é”®</strong>ï¼šLoaders ä»å³åˆ°å·¦ï¼ˆæˆ–ä»ä¸‹åˆ°ä¸Šï¼‰æ‰§è¡Œã€‚<br> ä¾‹å¦‚ï¼š<code>use: [&#39;style-loader&#39;, &#39;css-loader&#39;, &#39;sass-loader&#39;]</code> çš„æ‰§è¡Œé¡ºåºä¸ºï¼š<br><code>sass-loader</code> â†’ <code>css-loader</code> â†’ <code>style-loader</code>ã€‚</li></ul><p><strong>Plugins çš„æ‰§è¡Œæµç¨‹</strong></p><div class="language-plaintext vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>åˆå§‹åŒ– â†’ è¯»å–é…ç½® â†’ åˆ›å»º Compiler â†’ æŒ‚è½½ Plugins â†’ ç¼–è¯‘æ¨¡å— â†’ ä¼˜åŒ– â†’ è¾“å‡º</span></span></code></pre></div><ul><li><strong>ç”Ÿå‘½å‘¨æœŸé’©å­</strong>ï¼šPlugins é€šè¿‡ç›‘å¬ Webpack çš„<a href="https://webpack.js.org/api/compiler-hooks/" target="_blank" rel="noreferrer">ç”Ÿå‘½å‘¨æœŸé’©å­</a>ï¼ˆå¦‚ <code>emit</code>ã€<code>done</code>ï¼‰å¹²é¢„æ„å»ºæµç¨‹ã€‚</li></ul><p><strong>5. åä½œç¤ºä¾‹</strong> ä¸€ä¸ªåŒæ—¶ä½¿ç”¨ Loaders å’Œ Plugins çš„å…¸å‹åœºæ™¯ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// webpack.config.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;path&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> MiniCssExtractPlugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;mini-css-extract-plugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> HtmlWebpackPlugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;html-webpack-plugin&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  entry: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./src/index.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  output: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    filename: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bundle.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dist&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    clean: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  module: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    rules: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        test:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\.</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">scss</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        // Loaders å¤„ç†é“¾ï¼šsass â†’ css â†’ MiniCssExtractPlugin</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        use: [MiniCssExtractPlugin.loader, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;css-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;sass-loader&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Pluginï¼šæå– CSS ä¸ºæ–‡ä»¶</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MiniCssExtractPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // Pluginï¼šç”Ÿæˆ HTML</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> HtmlWebpackPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></details><h2 id="webpackä¸­-å¦‚ä½•å®ç°æŒ‰éœ€åŠ è½½" tabindex="-1">Webpackä¸­, å¦‚ä½•å®ç°æŒ‰éœ€åŠ è½½ï¼Ÿ <a class="header-anchor" href="#webpackä¸­-å¦‚ä½•å®ç°æŒ‰éœ€åŠ è½½" aria-label="Permalink to &quot;Webpackä¸­, å¦‚ä½•å®ç°æŒ‰éœ€åŠ è½½ï¼Ÿ&quot;">â€‹</a></h2><p>å‚è€ƒç­”æ¡ˆ</p><details class="details custom-block"><summary>Details</summary><p>åœ¨ Webpack ä¸­å®ç°æŒ‰éœ€åŠ è½½ï¼ˆä»£ç åˆ†å‰²/æ‡’åŠ è½½ï¼‰çš„æ ¸å¿ƒæ€è·¯æ˜¯ <strong>å°†ä»£ç æ‹†åˆ†ä¸ºç‹¬ç«‹ chunkï¼Œåœ¨éœ€è¦æ—¶åŠ¨æ€åŠ è½½</strong>ã€‚</p><p><strong>ä¸€ã€åŸºç¡€æ–¹æ³•ï¼šåŠ¨æ€å¯¼å…¥ï¼ˆDynamic Importï¼‰</strong> é€šè¿‡ <code>import()</code> è¯­æ³•å®ç°æŒ‰éœ€åŠ è½½ï¼ŒWebpack ä¼šè‡ªåŠ¨å°†å…¶æ‹†åˆ†ä¸ºç‹¬ç«‹ chunkã€‚</p><p><strong>1. ä»£ç ä¸­ä½¿ç”¨åŠ¨æ€å¯¼å…¥</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç¤ºä¾‹ï¼šç‚¹å‡»æŒ‰é’®ååŠ è½½æ¨¡å—</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;btn&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">addEventListener</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;click&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> module</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./module.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">doSomething</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p><strong>2. é…ç½® Webpack</strong> ç¡®ä¿ <code>webpack.config.js</code> çš„ <code>output</code> é…ç½®ä¸­åŒ…å« <code>chunkFilename</code>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  output: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    filename: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;[name].bundle.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    chunkFilename: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;[name].[contenthash].chunk.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// åŠ¨æ€å¯¼å…¥çš„ chunk å‘½åè§„åˆ™</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(__dirname, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;dist&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    publicPath: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ç¡®ä¿ chunk çš„å…¬å…±è·¯å¾„æ­£ç¡®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>äºŒã€æ¡†æ¶é›†æˆï¼šReact/Vue è·¯ç”±çº§æŒ‰éœ€åŠ è½½</strong> ç»“åˆå‰ç«¯æ¡†æ¶çš„è·¯ç”±ç³»ç»Ÿå®ç°ç»„ä»¶çº§æ‡’åŠ è½½ã€‚</p><p><strong>React ç¤ºä¾‹</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> React, { Suspense, lazy } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { BrowserRouter </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Router, Route, Switch } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;react-router-dom&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Home</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lazy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./routes/Home&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> About</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lazy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./routes/About&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> App</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Router</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Suspense</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fallback</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Loading...&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;}&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Route</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> exact</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> component</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{Home} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Route</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/about&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> component</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{About} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Switch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Suspense</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Router</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>Vue ç¤ºä¾‹</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> routes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./views/Home.vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/about&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;./views/About.vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p><strong>ä¸‰ã€ä¼˜åŒ–é…ç½®ï¼šä»£ç åˆ†å‰²ç­–ç•¥</strong> é€šè¿‡ <code>SplitChunksPlugin</code> ä¼˜åŒ–å…¬å…±ä»£ç æå–ã€‚</p><p><strong>Webpack é…ç½®</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  optimization: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    splitChunks: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      chunks: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;all&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯¹æ‰€æœ‰æ¨¡å—è¿›è¡Œåˆ†å‰²ï¼ˆåŒ…æ‹¬å¼‚æ­¥å’Œéå¼‚æ­¥ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      cacheGroups: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        vendors: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          test:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">[</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">/]</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">node_modules</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">[</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\\\</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">/]</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;vendors&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æå– node_modules ä»£ç ä¸º vendors å—</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          priority: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¼˜å…ˆçº§</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          reuseExistingChunk: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        common: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          minChunks: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// è¢«è‡³å°‘ä¸¤ä¸ª chunk å¼•ç”¨çš„ä»£ç </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;common&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          priority: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          reuseExistingChunk: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>å››ã€Babel é…ç½®ï¼ˆå¦‚éœ€æ”¯æŒæ—§æµè§ˆå™¨ï¼‰</strong> å®‰è£… Babel æ’ä»¶è§£æåŠ¨æ€å¯¼å…¥è¯­æ³•ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @babel/plugin-syntax-dynamic-import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save-dev</span></span></code></pre></div><p>åœ¨ <code>.babelrc</code> æˆ– <code>babel.config.json</code> ä¸­æ·»åŠ æ’ä»¶ï¼š</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;plugins&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;@babel/plugin-syntax-dynamic-import&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>äº”ã€é¢„åŠ è½½ä¸é¢„å–ï¼ˆå¯é€‰ä¼˜åŒ–ï¼‰</strong> é€šè¿‡æ³¨é‡Šæç¤ºæµè§ˆå™¨æå‰åŠ è½½èµ„æºï¼ˆéœ€ç»“åˆæ¡†æ¶ä½¿ç”¨ï¼‰ã€‚</p><p><strong>React ç¤ºä¾‹</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> About</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lazy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      /* webpackPrefetch: true */</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // é¢„å–ï¼ˆç©ºé—²æ—¶åŠ è½½ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      /* webpackPreload: true */</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // é¢„åŠ è½½ï¼ˆä¸çˆ¶ chunk å¹¶è¡ŒåŠ è½½ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;./routes/About&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p><strong>å…­ã€éªŒè¯æ•ˆæœ</strong></p><ol><li><p><strong>æ„å»ºäº§ç‰©åˆ†æ</strong>ï¼š</p><ul><li>è¿è¡Œ <code>npx webpack --profile --json=stats.json</code> ç”Ÿæˆæ„å»ºæŠ¥å‘Šã€‚</li><li>ä½¿ç”¨ <a href="https://github.com/webpack-contrib/webpack-bundle-analyzer" target="_blank" rel="noreferrer">Webpack Bundle Analyzer</a> å¯è§†åŒ–åˆ†æ chunk åˆ†å¸ƒã€‚</li></ul></li><li><p><strong>ç½‘ç»œè¯·æ±‚éªŒè¯</strong>ï¼š</p><ul><li>æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼Œè§‚å¯Ÿè§¦å‘åŠ¨æ€å¯¼å…¥æ—¶æ˜¯å¦åŠ è½½æ–° chunkã€‚</li></ul></li></ol></details><h2 id="ä»€ä¹ˆæ˜¯-tree-shaking-å¦‚ä½•åœ¨-webpack-ä¸­å¯ç”¨å®ƒ" tabindex="-1">ä»€ä¹ˆæ˜¯ Tree Shakingï¼Ÿå¦‚ä½•åœ¨ Webpack ä¸­å¯ç”¨å®ƒï¼Ÿ <a class="header-anchor" href="#ä»€ä¹ˆæ˜¯-tree-shaking-å¦‚ä½•åœ¨-webpack-ä¸­å¯ç”¨å®ƒ" aria-label="Permalink to &quot;ä»€ä¹ˆæ˜¯ Tree Shakingï¼Ÿå¦‚ä½•åœ¨ Webpack ä¸­å¯ç”¨å®ƒï¼Ÿ&quot;">â€‹</a></h2><p>å‚è€ƒç­”æ¡ˆ</p><details class="details custom-block"><summary>Details</summary><p><strong>Tree Shakingï¼ˆæ‘‡æ ‘ä¼˜åŒ–ï¼‰</strong> æ˜¯ä¸€ç§åœ¨æ‰“åŒ…è¿‡ç¨‹ä¸­ <strong>ç§»é™¤ JavaScript é¡¹ç›®ä¸­æœªä½¿ç”¨ä»£ç ï¼ˆDead Codeï¼‰</strong> çš„ä¼˜åŒ–æŠ€æœ¯ã€‚å®ƒçš„åå­—å½¢è±¡åœ°æ¯”å–»ä¸ºâ€œæ‘‡åŠ¨æ ‘ä»¥æ‰è½æ¯å¶â€ï¼Œå³é€šè¿‡é™æ€ä»£ç åˆ†æï¼Œè¯†åˆ«å¹¶åˆ é™¤æœªè¢«å¼•ç”¨çš„æ¨¡å—æˆ–å‡½æ•°ï¼Œä»è€Œå‡å°æœ€ç»ˆæ‰“åŒ…ä½“ç§¯ã€‚</p><p><strong>Tree Shaking çš„å·¥ä½œåŸç†</strong></p><ol><li><strong>åŸºäº ES Moduleï¼ˆESMï¼‰çš„é™æ€ç»“æ„</strong><br> ESM çš„ <code>import/export</code> æ˜¯é™æ€å£°æ˜ï¼ˆä»£ç æ‰§è¡Œå‰å¯ç¡®å®šä¾èµ–å…³ç³»ï¼‰ï¼Œè€Œ CommonJS çš„ <code>require</code> æ˜¯åŠ¨æ€çš„ã€‚åªæœ‰ ESM èƒ½è¢« Tree Shaking åˆ†æã€‚</li><li><strong>æ ‡è®°æœªä½¿ç”¨çš„å¯¼å‡º</strong><br> æ‰“åŒ…å·¥å…·ï¼ˆå¦‚ Webpackï¼‰é€šè¿‡åˆ†æä»£ç ï¼Œæ ‡è®°æœªè¢«ä»»ä½•æ¨¡å—å¯¼å…¥çš„å¯¼å‡ºã€‚</li><li><strong>å‹ç¼©é˜¶æ®µåˆ é™¤</strong><br> ç»“åˆä»£ç å‹ç¼©å·¥å…·ï¼ˆå¦‚ Terserï¼‰åˆ é™¤è¿™äº›æ ‡è®°çš„æœªä½¿ç”¨ä»£ç ã€‚</li></ol><p><strong>åœ¨ Webpack ä¸­å¯ç”¨ Tree Shaking çš„æ­¥éª¤</strong><strong>1. ä½¿ç”¨ ES Module è¯­æ³•</strong> ç¡®ä¿é¡¹ç›®ä»£ç ä½¿ç”¨ <code>import/export</code>ï¼Œè€Œé CommonJS çš„ <code>require</code>ã€‚</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ­£ç¡®ï¼šESM å¯¼å‡º</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> subtract</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âœ… æ­£ç¡®ï¼šESM å¯¼å…¥</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { add } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;./math&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// âŒ é”™è¯¯ï¼šCommonJS å¯¼å‡º</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { add, subtract }</span></span></code></pre></div><p><strong>2. é…ç½® Webpack çš„ <code>mode</code> ä¸º <code>production</code></strong> åœ¨ <code>webpack.config.js</code> ä¸­è®¾ç½® <code>mode: &#39;production&#39;</code>ï¼Œè¿™ä¼šè‡ªåŠ¨å¯ç”¨ Tree Shaking å’Œä»£ç å‹ç¼©ã€‚</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  mode: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;production&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯ç”¨ç”Ÿäº§æ¨¡å¼ä¼˜åŒ–</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>3. ç¦ç”¨æ¨¡å—è½¬æ¢ï¼ˆBabel é…ç½®ï¼‰</strong> ç¡®ä¿ Babel ä¸ä¼šå°† ESM è½¬æ¢ä¸º CommonJSã€‚åœ¨ <code>.babelrc</code> æˆ– <code>babel.config.json</code> ä¸­è®¾ç½®ï¼š</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;presets&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;@babel/preset-env&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;modules&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }] </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¿ç•™ ESM è¯­æ³•</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>4. æ ‡è®°å‰¯ä½œç”¨æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰</strong> åœ¨ <code>package.json</code> ä¸­å£°æ˜å“ªäº›æ–‡ä»¶æœ‰å‰¯ä½œç”¨ï¼ˆå¦‚å…¨å±€ CSSã€Polyfillï¼‰ï¼Œé¿å…è¢«é”™è¯¯åˆ é™¤ï¼š</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;sideEffects&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;**/*.css&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// CSS æ–‡ä»¶æœ‰å‰¯ä½œç”¨ï¼ˆå½±å“æ ·å¼ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;src/polyfill.js&quot;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // Polyfill æœ‰å‰¯ä½œç”¨</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>è‹¥é¡¹ç›®æ— å‰¯ä½œç”¨æ–‡ä»¶ï¼Œç›´æ¥è®¾ä¸º <code>false</code>ï¼š</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;sideEffects&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>5. æ˜¾å¼é…ç½® <code>optimization.usedExports</code></strong> åœ¨ <code>webpack.config.js</code> ä¸­å¯ç”¨ <code>usedExports</code>ï¼Œè®© Webpack æ ‡è®°æœªä½¿ç”¨çš„å¯¼å‡ºï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  optimization: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    usedExports: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ ‡è®°æœªä½¿ç”¨çš„å¯¼å‡º</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    minimize: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¯ç”¨å‹ç¼©ï¼ˆåˆ é™¤æœªä½¿ç”¨ä»£ç ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>éªŒè¯ Tree Shaking æ˜¯å¦ç”Ÿæ•ˆ</strong><strong>æ–¹æ³• 1ï¼šæ£€æŸ¥æ‰“åŒ…åçš„ä»£ç </strong> è‹¥æœªä½¿ç”¨çš„å‡½æ•°ï¼ˆå¦‚ <code>subtract</code>ï¼‰è¢«åˆ é™¤ï¼Œè¯´æ˜ Tree Shaking ç”Ÿæ•ˆï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‰“åŒ…å‰ math.js</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> subtract</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‰“åŒ…åï¼ˆä»…ä¿ç•™ addï¼‰</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>æ–¹æ³• 2ï¼šä½¿ç”¨åˆ†æå·¥å…·</strong> é€šè¿‡ <a href="https://github.com/webpack-contrib/webpack-bundle-analyzer" target="_blank" rel="noreferrer">Webpack Bundle Analyzer</a> å¯è§†åŒ–åˆ†ææ‰“åŒ…ç»“æœï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> webpack-bundle-analyzer</span></span></code></pre></div><p>é…ç½® <code>webpack.config.js</code>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> BundleAnalyzerPlugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;webpack-bundle-analyzer&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).BundleAnalyzerPlugin</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> BundleAnalyzerPlugin</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>è¿è¡Œæ„å»ºåï¼Œæµè§ˆå™¨å°†è‡ªåŠ¨æ‰“å¼€åˆ†æé¡µé¢ï¼Œæ£€æŸ¥æœªä½¿ç”¨çš„æ¨¡å—æ˜¯å¦è¢«ç§»é™¤ã€‚</p><table tabindex="0"><thead><tr><th><strong>æ­¥éª¤</strong></th><th><strong>å…³é”®é…ç½®</strong></th><th><strong>ä½œç”¨</strong></th></tr></thead><tbody><tr><td>ä½¿ç”¨ ESM è¯­æ³•</td><td><code>import/export</code></td><td>æä¾›é™æ€åˆ†æåŸºç¡€</td></tr><tr><td>è®¾ç½®ç”Ÿäº§æ¨¡å¼</td><td><code>mode: &#39;production&#39;</code></td><td>è‡ªåŠ¨å¯ç”¨ Tree Shaking å’Œå‹ç¼©</td></tr><tr><td>é…ç½® Babel</td><td><code>&quot;modules&quot;: false</code></td><td>ä¿ç•™ ESM ç»“æ„</td></tr><tr><td>æ ‡è®°å‰¯ä½œç”¨æ–‡ä»¶</td><td><code>package.json</code> çš„ <code>sideEffects</code> å­—æ®µ</td><td>é˜²æ­¢è¯¯åˆ æœ‰å‰¯ä½œç”¨çš„æ–‡ä»¶</td></tr><tr><td>æ˜¾å¼å¯ç”¨ usedExports</td><td><code>optimization.usedExports: true</code></td><td>æ ‡è®°æœªä½¿ç”¨çš„å¯¼å‡º</td></tr></tbody></table></details>`,33)]))}const o=i(l,[["render",p]]);export{g as __pageData,o as default};
